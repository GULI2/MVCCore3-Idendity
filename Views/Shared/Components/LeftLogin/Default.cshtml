@using Microsoft.AspNetCore.Identity
@using System.Security.Claims

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    Layout = null;
}
@if (SignInManager.IsSignedIn(User))
{
    <div class="dropdown profile-element">
        <img alt="image" class="rounded-circle" src="~/Images/profile_small.jpg" />
        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
            @*<span class="block m-t-xs font-bold">@User.Identity.Name</span>*@
           
            <span class="block m-t-xs font-bold">@User.FindFirst("EmpName").Value</span>
            
            <span class="text-muted text-xs block">@User.FindFirst("EmpName").Value<b class="caret"></b></span>
        </a>


        <ul class="dropdown-menu animated fadeInRight m-t-xs">
            <li><a class="dropdown-item" href="/Authority/UserClaimList">个人详情</a></li>
        </ul>

    </div>
}
else
{
    <div class="dropdown profile-element">
        <img alt="image" class="rounded-circle" src="~/Images/person_small.png" />
        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
            <span class="block m-t-xs font-bold">未登录</span>
        </a>
    </div>
}